categories:
- repository
labels:
  io.rancher.certified: harness
questions:
- variable: accountId
  default: ""
  description: "Account Id to which Harness delegate will be connecting"
  type: string
  required: true
  label: Account Id
  group: "Account Details"
- variable: accountSecret
  default: ""
  description: "Account Secret"
  type: string
  required: true
  label: Account Secret
  group: "Account Details"
- variable: accountIdShort
  default: ""
  description: "Short 6 character identifier of the account"
  type: string
  required: true
  label: Short Account Id
  group: "Account Details"

# Delegate Configuration
- variable: delegateName
  default: "harness-delegate"
  description: "Name of the Harness delegate"
  type: string
  required: true
  label: Delegate Name
  group: "Delegate Configuration"
- variable: clusterWideRbacScope
  default: true
  description: "RBAC scope: Set true for cluster wide and false for namespace wide"
  type: boolean
  required: true
  label: RBAC scope
  group: "Delegate Configuration"

# Advanced Server Settings
- variable: advancedOptions
  default: false
  label: Show Advanced Server Configurations
  type: boolean
  show_subquestion_if: true
  group: "Advanced Server Options"
  subquestions:
  - variable: managerHostAndPort
    default: "https://app.harness.io"
    description: "Url of the Harness server"
    type: string
    label: Harness Server  
  - variable: watcherStorageUrl
    default: "https://app.harness.io/storage/wingswatchers"
    description: "Watcher storage Url"
    type: string
    label: Watcher Storage Url 
  - variable: watcherCheckLocation
    default: "watcherprod.txt"
    description: "Watcher file name"
    type: string
    label: Watcher File 
  - variable: delegateStorageUrl
    default: "https://app.harness.io/storage/wingsdelegates"
    description: "Delegate storage Url "
    type: string
    label: Delegate Storage Url 
  - variable: delegateCheckLocation
    default: "delegateprod.txt"
    description: "Delegate file name"
    type: string
    label: Delegate File

  - variable: delegateProfile
    default: ""
    description: "Id of the delegate profile that needs to run when the delegate is coming up"
    type: string
    label: Delegate Profile Id
  - variable: helmDesiredVersion
    default: ""
    description: "Helm version to be installed in delegate"
    type: string
    label: Helm version

# Advanced Proxy Settings
- variable: advancedProxyOptions
  default: false
  label: Show Advanced Proxy Configurations
  type: boolean
  show_subquestion_if: true
  group: "Advanced Proxy Options"
  subquestions:
  - variable: proxyManager
    default: "true"
    description: "Set to true if the Harness delegate should go through proxy"
    type: boolean
    label: Proxy Manager
  - variable: pollForTasks
    default: "false"
    description: "Set to true if the proxy doesn't support web socket (wss) protocol"
    type: boolean
    label: Poll For Tasks
  - variable: proxyHost
    default: ""
    description: "Proxy host"
    type: string
    label: Proxy Host
  - variable: proxyPort
    default: ""
    description: "Proxy port"
    type: string
    label: Proxy Port
  - variable: proxyUser
    default: ""
    description: "Proxy username"
    type: string
    label: Proxy Username
  - variable: proxyPassword
    default: ""
    description: "Proxy password"
    type: string
    label: Proxy Password
  - variable: proxyScheme
    default: ""
    description: "Proxy scheme"
    type: enum
    label: Proxy Scheme
    options:
      - ""
      - "http"
      - "https"
  - variable: noProxy
    default: ""
    description: "Enter a comma separated list of suffixes for which proxy is not required. Do not use leading wildcards (.company.com,specifichost)"
    type: string
    label: No Proxy Domains

